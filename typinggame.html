<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title> üê®Gala the Koala's Word Typing Game - Animalsüê®</title>

  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Fredoka', cursive, sans-serif;
      background-color: #b8e0d2;
      color: #2f4f4f;
      overflow-y: auto;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      font-size: 1.2em;
    }

    #game-container {
      width: 100%;
      max-width: 600px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      font-weight: 700;
      font-size: 2.2em;
      margin: 20px 0;
      text-align: center;
      text-shadow: 2px 2px 0 white;
    }

    #word-container {
      position: relative;
      display: inline-block;
      width: 100%;
      margin: 10px 0;
    }

    #word-image {
      width: 100%;
      border-radius: 12px;
      display: block;
    }

    #word {
      position: absolute;
      bottom: 0;
      width: 100%;
      text-align: center;
      background: rgba(255, 255, 255, 0.7);
      color: #3b5740;
      font-size: 1.6em;
      padding: 6px 0;
      border-bottom-left-radius: 12px;
      border-bottom-right-radius: 12px;
    }

    #input {
      font-size: 1.4em;
      padding: 10px 15px;
      width: 100%;
      border-radius: 12px;
      border: 2px solid #88c9a7;
      margin-top: 10px;
      outline: none;
      transition: border-color 0.3s ease;
    }

    #input:focus {
      border-color: #3b5740;
      box-shadow: 0 0 8px #a3d8b9;
    }

    #score, #time {
      font-size: 1.5em;
      margin: 8px 0;
      font-weight: 600;
      color: #355e3b;
    }

    #game-over {
      font-size: 1.8em;
      color: #e63946;
      margin-top: 15px;
      font-weight: 700;
    }

    #message {
      font-size: 1.4em;
      color: #4a7c59;
      margin-top: 8px;
      font-style: italic;
    }

    #start-button, #retry-button {
      font-size: 1.4em;
      padding: 10px 25px;
      margin-top: 15px;
      border-radius: 18px;
      border: none;
      background-color: #88c9a7;
      color: #2f4f4f;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 3px 7px rgba(0, 0, 0, 0.15);
    }

    #start-button:hover, #retry-button:hover {
      background-color: #3b5740;
      color: #dff6e4;
    }

    #input-section {
      display: none;
      width: 100%;
    }
  </style>
</head>

<body>
  <div id="game-container">
    <h1>üê®Gala the Koala's Animal Typing Gameüê®</h1>
    <button id="start-button">Start Game</button>

    <div id="input-section">
      <div id="word-container">
        <img id="word-image" src="" alt="Animal Picture" />
        <div id="word">Press Start!</div>
      </div>

      <input id="input" type="text" autocomplete="off" autocapitalize="off" />
      <div id="score">Score: 0</div>
      <div id="time">Time: 60</div>
      <div id="message"></div>
      <div id="game-over"></div>
      <img id="meme-image" src="" alt="Result Meme" />
      <button id="retry-button" style="display:none;">Try Again</button>
    </div>
  </div>

  <script>
    const fullWordList = [
      "cat", "dog", "rabbit", "mouse", "horse", "cow", "pig", "sheep", "goat",
      "lion", "tiger", "bear", "zebra", "monkey", "elephant", "butterfly",
      "ladybug", "capybara", "koala", "kangaroo"
    ];

    let shuffledWords = [];
    let currentWord = "";
    let score = 0;
    let time = 60;
    let timerInterval;

    const wordDisplay = document.getElementById("word");
    const wordImage = document.getElementById("word-image");
    const input = document.getElementById("input");
    const scoreDisplay = document.getElementById("score");
    const timeDisplay = document.getElementById("time");
    const gameOver = document.getElementById("game-over");
    const message = document.getElementById("message");
    const startButton = document.getElementById("start-button");
    const retryButton = document.getElementById("retry-button");
    const inputSection = document.getElementById("input-section");
    const memeImage = document.getElementById("meme-image");

    // üîπ Preload images
    const preloadedImages = {};
    fullWordList.forEach(word => {
      const img = new Image();
      img.src = word + ".png";
      preloadedImages[word] = img;
    });

    function shuffle(array) {
      return [...array].sort(() => Math.random() - 0.5);
    }

    function showNewWord() {
      if (shuffledWords.length === 0) {
        shuffledWords = shuffle(fullWordList);
      }
      currentWord = shuffledWords.pop();
      wordDisplay.textContent = currentWord;

      wordImage.src = preloadedImages[currentWord].src;
      wordImage.style.display = "block";
      input.value = "";
    }

    function startGame() {
      shuffledWords = shuffle(fullWordList);
      score = 0;
      time = 60;
      scoreDisplay.textContent = "Score: 0";
      timeDisplay.textContent = "Time: " + time;
      gameOver.textContent = "";
      message.textContent = "";
      memeImage.style.display = "none";
      input.disabled = false;
      input.value = "";
      retryButton.style.display = "none";
      startButton.style.display = "none";
      inputSection.style.display = "block";
      showNewWord();
      input.focus();

      timerInterval = setInterval(updateTime, 1000);
    }

    function endGame() {
      clearInterval(timerInterval);
      input.disabled = true;
      gameOver.textContent = "Time's up! Final Score: " + score;

      let memeFile = "";
      if (score >= 50) {
        message.textContent = "OMG! WHAT?!";
        memeFile = "woah.gif";
      } else if (score >= 45) {
        message.textContent = "WOAH! Are you a robot?!";
        memeFile = "robot.gif";
      } else if (score >= 35) {
        message.textContent = "Amazing job!";
        memeFile = "amazing.gif";
      } else if (score >= 25) {
        message.textContent = "Great work!";
        memeFile = "greatjob.gif";
      } else if (score >= 15) {
        message.textContent = "Nice try!";
        memeFile = "nicetry.gif";
      } else {
        message.textContent = "Keep practicing!";
        memeFile = "keepprac.gif";
      }

      memeImage.src = memeFile;
      memeImage.style.display = "block";
      retryButton.style.display = "inline-block";
    }

    function updateTime() {
      time--;
      timeDisplay.textContent = "Time: " + time;
      if (time === 0) {
        endGame();
      }
    }

    input.addEventListener("input", function () {
      if (input.value.trim() === currentWord) {
        score += 1;
        scoreDisplay.textContent = "Score: " + score;
        showNewWord();
      }
    });

    startButton.addEventListener("click", startGame);
    retryButton.addEventListener("click", startGame);
  </script>

</body>

</html>
